<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>进无止境&#39;s 博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  
  
  
  <meta property="og:type" content="website">
<meta property="og:title" content="进无止境's 博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="进无止境's 博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="进无止境's 博客">
  
    <link rel="alternate" href="/atom.xml" title="进无止境&#39;s 博客" type="application/atom+xml">
  
  <link rel="icon" href="/css/images/mylogo.jpg">
  <link rel="apple-touch-icon" href="/css/images/mylogo.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="/css/home.css" >
  

  

  

</head>



  <body>


  
    <header id="header">

  
    <div id="intrologo" class="intro-logo">
  

    <canvas width="100%" height="100%"></canvas>
    <script>
      var c = document.getElementsByTagName('canvas')[0],
          x = c.getContext('2d'),
          w = window.innerWidth,
          h = window.innerHeight,
          pr = window.devicePixelRatio || 1,
          f = 90,
          q,
          m = Math,
          r = 0,
          u = m.PI*2,
          v = m.cos,
          z = m.random
      c.width = w*pr
      c.height = h*pr
      x.scale(pr, pr)
      x.globalAlpha = 0.6

      
        function i(){
            x.clearRect(0,0,w,h)
            q=[{x:0,y:h*.7+f},{x:0,y:h*.7-f}]
            while(q[1].x<w+f) d(q[0], q[1])
        }
        function d(i,j){   
            x.beginPath()
            x.moveTo(i.x, i.y)
            x.lineTo(j.x, j.y)
            var k = j.x + (z()*2-0.25)*f,
                n = y(j.y)
            x.lineTo(k, n)
            x.closePath()
            r-=u/-50
            x.fillStyle = '#'+(v(r)*127+128<<16 | v(r+u/3)*127+128<<8 | v(r+u/3*2)*127+128).toString(16)
            x.fill()
            q[0] = q[1]
            q[1] = {x:k,y:n}
        }
        function y(p){
            var t = p + (z()*2-1.1)*f
            return (t>h||t<0) ? y(p) : t
        }
        document.getElementById("intrologo").onclick = i
        document.getElementById("intrologo").ontouchstart = i
        i()
      
    </script>
    

    
      <div id="homelogo" class="homelogo"> 
    

        
          <div class="homelogoback" >
            <h1><a href="#content" id="logo">进无止境&#39;s 博客</a></h1>
            <h3></h3>
            <h5>Jim</h5>
            <!-- <p><a href="https://github.com/iTimeTraveler" target="_blank">Github</a></p> -->
          </div>
        
    
    </div>
  </div>

  <!-- 自适应主页背景大图 -->
  

 <!-- home_logo_image居中 -->
 
    <script>
        var homelogodiv = document.getElementById("homelogo");
        if (document.all.homelogo.offsetWidth > document.body.clientWidth) {
          homelogodiv.style.width = document.body.clientWidth + "px";
          homelogodiv.style.marginLeft = document.body.clientWidth * -0.5 + "px";
        } else {
          homelogodiv.style.width = homelogodiv.clientWidth  + "px";
          homelogodiv.style.marginLeft = (homelogodiv.clientWidth)  * -0.5 + "px";
        }
    </script>
  

  <div class="intro-navigate">
      <p class="navigater-list">
        
          <a id="beautifont" class="main-nav-link" href="/">首页</a>
        
          <a id="beautifont" class="main-nav-link" href="/archives">归档</a>
        
          <a id="beautifont" class="main-nav-link" href="/about">关于</a>
        
      </p>
  </div>

</header>
  
  <div id="container">
    <div id="wrap">
      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;">
  
    <article id="post-Android智能指针——SP WP"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/05/28/Android智能指针——SP WP/">Android 智能指针——SP WP</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/05/28/Android智能指针——SP WP/" class="article-date">
	  <time datetime="2017-05-28T04:22:33.000Z" itemprop="datePublished">2017-05-28</time>
	</a>

      
    <a class="article-category-link" href="/categories/Android/">Android</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://blog.163.com/ye_kc_lcx88/blog/static/217863346201462411215858/" target="_blank" rel="external">http://blog.163.com/ye_kc_lcx88/blog/static/217863346201462411215858/</a></p>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/弱指针/">弱指针</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/强指针/">强指针</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/智能指针/">智能指针</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Android_Sensor"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
    <div class="article-meta">
      
	<a href="/2017/04/21/Android_Sensor/" class="article-date">
	  <time datetime="2017-04-21T09:39:27.492Z" itemprop="datePublished">2017-04-21</time>
	</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Android Sensor</p>
<p><a href="http://processors.wiki.ti.com/index.php/Android_Sensor_PortingGuide" target="_blank" rel="external">http://processors.wiki.ti.com/index.php/Android_Sensor_PortingGuide</a></p>

      
    </div>
    <footer class="article-footer">
      
      
    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-linux_select_poll"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/19/linux_select_poll/">Linux select pselect poll epoll用法</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/04/19/linux_select_poll/" class="article-date">
	  <time datetime="2017-04-18T16:00:00.000Z" itemprop="datePublished">2017-04-19</time>
	</a>

      
    <a class="article-category-link" href="/categories/linux/">linux</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="select"><a href="#select" class="headerlink" title="select"></a>select</h3><h3 id="pselect"><a href="#pselect" class="headerlink" title="pselect"></a>pselect</h3><h3 id="poll"><a href="#poll" class="headerlink" title="poll"></a>poll</h3><h3 id="epoll"><a href="#epoll" class="headerlink" title="epoll"></a>epoll</h3>
      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/poll/">poll</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/select/">select</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-linux_inotify"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/19/linux_inotify/">Linux inotify机制</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/04/19/linux_inotify/" class="article-date">
	  <time datetime="2017-04-18T16:00:00.000Z" itemprop="datePublished">2017-04-19</time>
	</a>

      
    <a class="article-category-link" href="/categories/linux/">linux</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>Inotify 是一个 Linux 内核特性，它监控文件系统，并且及时向专门的应用程序发出相关的事件警告，比如删除、读、写和卸载操作等。您还可以跟踪活动的源头和目标等细节。<br>使用 inotify 很简单：创建一个文件描述符fd，附加一个或多个监视器（一个监视器 是一个路径和一组事件，对应一个描述符wd），然后使用 read() 方法从描述符fd获取事件信息。</p>
<p>inotify，linux内核版本 &gt;= 2.6.13</p>
<h3 id="inotify-C-API"><a href="#inotify-C-API" class="headerlink" title="inotify C API"></a>inotify C API</h3><p>Inotify 提供几个系统调用，它们可以构建各种各样的文件系统监控器：</p>
<h5 id="1-fd-inotify-init-fd-inotify-init1-int-flags"><a href="#1-fd-inotify-init-fd-inotify-init1-int-flags" class="headerlink" title="1. fd = inotify_init();  / fd = inotify_init1(int flags);"></a>1. fd = inotify_init();  / fd = inotify_init1(int flags);</h5><pre><code>在内核中创建 inotify 子系统的一个实例instance，成功的话将返回一个文件描述符fd，失败则返回 -1。
就像其他系统调用一样，如果 inotify_init() 失败，请检查 errno 以获得诊断信息。
</code></pre><h5 id="2-wd-inotify-add-watch-int-fd-const-char-pathname-uint32-t-mask"><a href="#2-wd-inotify-add-watch-int-fd-const-char-pathname-uint32-t-mask" class="headerlink" title="2. wd = inotify_add_watch(int fd, const char *pathname, uint32_t mask);"></a>2. wd = inotify_add_watch(int fd, const char *pathname, uint32_t mask);</h5><pre><code>用于添加监视器。每个监视器必须提供一个路径名和相关事件的列表（每个事件由一个常量指定，比如 IN_MODIFY）。
要监控多个事件，只需在事件之间使用逻辑操作符或&apos;|&apos;。
如果 inotify_add_watch() 成功，该调用会为已注册的监视器返回一个惟一的标识符wd; 否则，返回 -1。
使用这个标识符更改或删除监视器。
</code></pre><h5 id="3-inotify-rm-watch-int-fd-int-wd"><a href="#3-inotify-rm-watch-int-fd-int-wd" class="headerlink" title="3. inotify_rm_watch(int fd, int wd);"></a>3. inotify_rm_watch(int fd, int wd);</h5><pre><code>删除一个inotify实例中的监视器wd。 success return 0 ； error return -1。
删除操作将触发IN_IGNORED 事件给该wd
</code></pre><h5 id="4-读事件、关闭监视器、关闭inotify实例"><a href="#4-读事件、关闭监视器、关闭inotify实例" class="headerlink" title="4. 读事件、关闭监视器、关闭inotify实例"></a>4. 读事件、关闭监视器、关闭inotify实例</h5><pre><code>创建完inotify实例及添加监视器后，读inotify实例描述符fd，可以得到监控到的事件。
可以使用select pselect poll epoll 等避免阻塞

文件描述符上的由 inotify_init() 生成的通用 close() 删除所有活动监视器，并释放与 inotify 实例相关联的所有内存（这里也用到典型的引用计数警告。与实例相关联的所有文件描述符必须在监视器和 inotify 消耗的内存被释放之前关闭）。
</code></pre><h5 id="5-使用技巧-注意事项"><a href="#5-使用技巧-注意事项" class="headerlink" title="5. 使用技巧/注意事项"></a>5. 使用技巧/注意事项</h5><pre><code>如果监视中的文件或目录被删除，它的监视器也会被自动删除（在删除事件发出之后）。
如果在已卸载的文件系统上监控文件或目录，监视器将在删除所有受影响的监视之前收到一个卸载事件。
将 IN_ONESHOT 标志添加到监视器标记中，设置一个一次性警告。警告在发送之后将被删除。
要修改一个事件，必须提供相同的路径名和不同的标记。新监视器将取代老监视器。
考虑到实用性，不可能耗尽任何一个 inotify 实例的监视器。然而，您可能会耗尽事件队列的空间，这取决于处理事件的频率。
    队列溢出会引起 IN_Q_OVERFLOW 事件。
close() 方法毁坏 inotify 实例和所有相关联的监视器，并清空队列中的所有等待事件。
</code></pre><h3 id="inotify-事件结构体及宏（详见inotify-h）"><a href="#inotify-事件结构体及宏（详见inotify-h）" class="headerlink" title="inotify 事件结构体及宏（详见inotify.h）"></a>inotify 事件结构体及宏（详见inotify.h）</h3><h5 id="1-inotify-event-结构体"><a href="#1-inotify-event-结构体" class="headerlink" title="1. inotify_event 结构体"></a>1. inotify_event 结构体</h5><pre><code>struct inotify_event {
   int      wd;       /* Watch descriptor */  属于哪个监视器的事件，说白了就是wd对应的pathname的事件
   uint32_t mask;     /* Mask of events */   //  IN_ACCESS  IN_MODIFY  IN_ATTRIB ... 中一个或多个的位或
   uint32_t cookie;   /* Unique cookie associating related events (for rename(2)) */ 用于关联两个事件
   uint32_t len;      /* Size of name field */  name长度
   char     name[];   /* Optional null-terminated name */  事件关联的文件名，不包括路径
};
</code></pre><p><strong>cookie字段使用场景:</strong> 当把一个文件从一个目录移动到另一个目录时，您可以使用 cookie 将两个事件绑在一起。<br>仅当您监视源和目标目录时，inotify 才生成两个移动事件 — 分别针对源和目标 —，并通过设置 cookie 将它们绑定在一起。<br>要监视一个移动操作，必须指定 IN_MOVED_FROM 或 IN_MOVED_TO，或使用简短的 IN_MOVE，它可以监视两个操作。<br>使用 IN_MOVED_FROM 和 IN_MOVED_TO 来测试事件类型。</p>
<h5 id="2-事件类型-宏（详见inotify-h）"><a href="#2-事件类型-宏（详见inotify-h）" class="headerlink" title="2. 事件类型/宏（详见inotify.h）"></a>2. 事件类型/宏（详见inotify.h）</h5><pre><code>IN_ACCESS         0x00000001 File was accessed (read) (*).
IN_MODIFY         0x00000002 File was modified (*).
IN_ATTRIB         0x00000004 Metadata changed, e.g., permissions, timestamps, extended attributes, 
                             link count (since Linux 2.6.25), UID, GID, etc. (*).
IN_CLOSE_WRITE    0x00000008 File opened for writing was closed (*).
IN_CLOSE_NOWRITE  0x00000010 File not opened for writing was closed (*).
IN_OPEN           0x00000020 File was opened (*).
IN_MOVED_FROM     0x00000040 Generated for the directory containing the old filename when a file is renamed (*).
IN_MOVED_TO       0x00000080 Generated for the directory containing the new filename when a file is renamed (*).
IN_CREATE         0x00000100 File/directory created in watched directory (*).
IN_DELETE         0x00000200 File/directory deleted from watched directory (*).
IN_DELETE_SELF    0x00000400 Watched file/directory was itself deleted.
IN_MOVE_SELF      0x00000800 Watched file/directory was itself moved.

IN_UNMOUNT        0x00002000
IN_Q_OVERFLOW     0x00004000
IN_IGNORED        0x00008000

复合型事件类型
IN_CLOSE      (IN_CLOSE_WRITE | IN_CLOSE_NOWRITE)
IN_MOVE       (IN_MOVED_FROM | IN_MOVED_TO)
IN_ALL_EVENTS (IN_ACCESS | IN_MODIFY | IN_ATTRIB | IN_CLOSE_WRITE |   IN_CLOSE_NOWRITE | IN_OPEN 
              | IN_MOVED_FROM |   IN_MOVED_TO | IN_DELETE | IN_CREATE | IN_DELETE_SELF |   IN_MOVE_SELF)

IN_ONLYDIR        0x01000000
IN_DONT_FOLLOW    0x02000000
IN_MASK_ADD       0x20000000
IN_ISDIR          0x40000000
IN_ONESHOT        0x80000000
</code></pre><h3 id="inotify-程序示例"><a href="#inotify-程序示例" class="headerlink" title="inotify 程序示例"></a>inotify 程序示例</h3><pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;errno.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/inotify.h&gt;

#define EVENT_SIZE  ( sizeof (struct inotify_event) )
#define BUF_LEN     ( 1024 * ( EVENT_SIZE + 16 ) )

int main( int argc, char **argv ) 
{
  int length, i = 0;
  int fd;
  int wd;
  char buffer[BUF_LEN];

  fd = inotify_init();

  if ( fd &lt; 0 ) {
    perror( &quot;inotify_init&quot; );
  }

  wd = inotify_add_watch( fd, &quot;/home/jim/test_inotity&quot;, 
                         IN_MODIFY | IN_CREATE | IN_DELETE );
  length = read( fd, buffer, BUF_LEN );  

  if ( length &lt; 0 ) {
    perror( &quot;read&quot; );
  }  

  while ( i &lt; length ) {
    struct inotify_event *event = ( struct inotify_event * ) &amp;buffer[ i ];
    if ( event-&gt;len ) {
      if ( event-&gt;mask &amp; IN_CREATE ) {
        if ( event-&gt;mask &amp; IN_ISDIR ) {
          printf( &quot;The directory %s was created.\n&quot;, event-&gt;name );       
        }
        else {
          printf( &quot;The file %s was created.\n&quot;, event-&gt;name );
        }
      }
      else if ( event-&gt;mask &amp; IN_DELETE ) {
        if ( event-&gt;mask &amp; IN_ISDIR ) {
          printf( &quot;The directory %s was deleted.\n&quot;, event-&gt;name );       
        }
        else {
          printf( &quot;The file %s was deleted.\n&quot;, event-&gt;name );
        }
      }
      else if ( event-&gt;mask &amp; IN_MODIFY ) {
        if ( event-&gt;mask &amp; IN_ISDIR ) {
          printf( &quot;The directory %s was modified.\n&quot;, event-&gt;name );
        }
        else {
          printf( &quot;The file %s was modified.\n&quot;, event-&gt;name );
        }
      }
    }
    i += EVENT_SIZE + event-&gt;len;
  }

  ( void ) inotify_rm_watch( fd, wd );
  ( void ) close( fd );

  exit( 0 );
}

运行测试
$ ./watcher  &amp; 
$ cd $HOME/test_inotify
$ touch a b c
The file a was created.
The file b was created.
The file c was created.
</code></pre><h3 id="inotify-程序示例2"><a href="#inotify-程序示例2" class="headerlink" title="inotify 程序示例2"></a>inotify 程序示例2</h3><pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/inotify.h&gt;

struct wd_path
{
    int wd;
    char *path;
};
char * event_array[] = {
&quot;File was accessed&quot;,
&quot;File was modified&quot;,
&quot;File attributes were changed&quot;,
&quot;writtable file closed&quot;,
&quot;Unwrittable file closed&quot;,
&quot;File was opened&quot;,
&quot;File was moved from X&quot;,
&quot;File was moved to Y&quot;,
&quot;Subfile was created&quot;,
&quot;Subfile was deleted&quot;,
&quot;Self was deleted&quot;,
&quot;Self was moved&quot;,
&quot;&quot;,
&quot;Backing fs was unmounted&quot;,
&quot;Event queued overflowed&quot;,
&quot;File was ignored&quot;
};
#define EVENT_NUM 16

int main(int argc,char *argv[])
{
    int fd,wd,len,tmp_len,i;
    char buffer[1024],*offset,target[1024];
    struct wd_path *wd_array;
    struct inotify_event *event;
    wd_array=(struct wd_path*)malloc((argc-1)*sizeof(struct wd_path));
    fd=inotify_init();
    if(-1==fd) 
    {
        printf(&quot;failed to init inotifyn&quot;);
        return 0;
    }

    printf(&quot;argc = %d \n&quot;, argc);
    if (argc &lt; 2) {
        return -1;
    }

    printf(&quot;argv[0] = %d \n&quot;, argv[0]);
    printf(&quot;argv[1] = %d \n&quot;, argv[1]);

    for(i=0;i&lt;argc-1;i++) 
    {
        wd_array[i].path = argv[i+1];
        wd=inotify_add_watch(fd,wd_array[i].path,IN_ALL_EVENTS); 
        wd_array[i].wd=wd;
    }

    memset(buffer,0,1024);
    while(len=read(fd,buffer,1024))
    {
        offset=buffer;
        event=(struct inotify_event*)buffer;
        while(((char *)event-buffer)&lt;len)
        {
            for(i=0;i&lt;argc-1;i++)
            {
                if(event-&gt;wd==wd_array[i].wd)
                {
                    memset(target,0,1024);
                    strcpy(target,wd_array[i].path);
                    strcat(target,&quot;/&quot;);
                    strcat(target,event-&gt;name);
                    printf(&quot;nnntarget:%s:n&quot;,target); 
                }
            }
            for(i=0;i&lt;EVENT_NUM;i++)
            {
                if(event-&gt;mask&amp;(1&lt;&lt;i))
                    printf(&quot;    event:%sn&quot;,event_array[i]);
            }
            tmp_len=sizeof(struct inotify_event)+event-&gt;len;
            event=(struct inotify_event*)(offset+tmp_len);
            offset+=tmp_len;
        }
    }
    return 1;
}
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/inotify/">inotify</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Markdown使用"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/13/Markdown使用/">Markdown&amp;MarkdownPad编辑器</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/04/13/Markdown使用/" class="article-date">
	  <time datetime="2017-04-13T11:55:33.000Z" itemprop="datePublished">2017-04-13</time>
	</a>

      
    <a class="article-category-link" href="/categories/杂类/">杂类</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="MarkdownPad编辑器添加表格的扩展"><a href="#MarkdownPad编辑器添加表格的扩展" class="headerlink" title="MarkdownPad编辑器添加表格的扩展"></a>MarkdownPad编辑器添加表格的扩展</h3><p><strong>开启表格特性支持：</strong> <code>工具 ==&gt; 选项 ==&gt; Markdown ==&gt; Markdown处理器 改为 &quot;Markdown(扩展)&quot;or&quot;GitHub风格Markdown&quot;即可。</code></p>
<p><strong>表格语法:</strong></p>
<pre>
    | Tables        | Are           | Cool  |
    | :------------ |:-------------:| -----:|
    | col 3 is      | right-aligned | $1600 |
    | col 2 is      | centered      |   $12 |
    | zebra stripes | are neat      |    $1 |
</pre>

<pre><code>:---- 左对齐,默认左对齐
:---: 居中
----: 右对齐
每列的宽度是根据对应列里最长的文本来决定
</code></pre><h3 id="在设置的过程中要注册markdownpad2"><a href="#在设置的过程中要注册markdownpad2" class="headerlink" title="在设置的过程中要注册markdownpad2"></a>在设置的过程中要注册markdownpad2</h3><pre><code>邮箱：

Soar360@live.com

授权秘钥：

GBPduHjWfJU1mZqcPM3BikjYKF6xKhlKIys3i1MU2eJHqWGImDHzWdD6xhMNLGVpbP2
M5SN6bnxn2kSE8qHqNY5QaaRxmO3YSMHxlv2EYpjdwLcPwfeTG7kUdnhKE0vVy4RidP6
Y2wZ0q74f47fzsZo45JE2hfQBFi2O9Jldjp1mW8HUpTtLA2a5/sQytXJUQl/QKO0jUQY4pa5C
Cx20sV1ClOTZtAGngSOJtIOFXK599sBr5aIEFyH0K7H4BoNMiiDMnxt1rD8Vb/ikJdhGMMQr
0R4B+L3nWU97eaVPTRKfWGDE8/eAgKzpGwrQQoDh+nzX1xoVQ8NAuH+s4UcSeQ==
</code></pre><h3 id="Markdown编辑器快捷键："><a href="#Markdown编辑器快捷键：" class="headerlink" title="Markdown编辑器快捷键："></a>Markdown编辑器快捷键：</h3><pre><code>· 加粗 Ctrl + B
· 斜体 Ctrl + I
· 引用 Ctrl + Q
· 插入链接 Ctrl + L
· 插入代码 Ctrl + K
· 插入图片 Ctrl + G
· 提升标题 Ctrl + H
· 有序列表 Ctrl + O
· 无序列表 Ctrl + U
· 横线 Ctrl + R
· 撤销 Ctrl + Z
· 重做 Ctrl + Y
</code></pre><h3 id="不解析内容处理方法"><a href="#不解析内容处理方法" class="headerlink" title="不解析内容处理方法"></a>不解析内容处理方法</h3><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">    代码块 </div><div class="line">    ``` </div><div class="line"></div><div class="line">或者 </div><div class="line"></div><div class="line">    &lt;pre&gt; </div><div class="line">    代码块 </div><div class="line">    &lt;/pre&gt; </div><div class="line"></div><div class="line"></div><div class="line"># Markdown语法参考 #</div><div class="line"></div><div class="line">### 加粗和倾斜</div></pre></td></tr></table></figure>

*emphasize*   **strong**
_emphasize_   __strong__
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### 链接和Email</div><div class="line">链接：</div></pre></td></tr></table></figure>
<p>   An <a href="http://url.com/" title="Title" target="_blank" rel="external">example</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Reference-style labels (titles are optional)：</div></pre></td></tr></table></figure></p>
<p> An [example][id]. Then, anywhere else in the doc,<br> define the link:</p>
<pre><code>[id]: http://example.com/  &quot;Title&quot;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Email：</div></pre></td></tr></table></figure>
<p>  An email <a href="&#x6d;&#97;&#x69;&#x6c;&#116;&#111;&#x3a;&#101;&#120;&#97;&#109;&#x70;&#108;&#x65;&#64;&#101;&#x78;&#x61;&#x6d;&#x70;&#108;&#101;&#46;&#99;&#x6f;&#x6d;">&#101;&#120;&#97;&#109;&#x70;&#108;&#x65;&#64;&#101;&#x78;&#x61;&#x6d;&#x70;&#108;&#101;&#46;&#99;&#x6f;&#x6d;</a> link.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### 图片</div><div class="line"></div><div class="line">Inline (titles are optional):</div></pre></td></tr></table></figure></p>
<p>  <img src="/path/img.jpg" alt="alt text" title="Title"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Reference-style:</div></pre></td></tr></table></figure></p>
<pre><code>![alt text][id]

[id]: /url/to/img.jpg &quot;Title&quot;
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### 标题</div><div class="line"></div><div class="line">Setext-style:</div></pre></td></tr></table></figure>
<pre><code>Header 1
========

Header 2
--------
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">atx-style (closing #’s are optional):</div></pre></td></tr></table></figure>
<pre><code># Header 1 #

## Header 2 ##

### Header 3 ###

#### Header 4

##### Header 5

###### Header 6
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### 列表</div><div class="line">    </div><div class="line">无段落有序列表：</div></pre></td></tr></table></figure>
<pre><code>1. Foo
2. Bar
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">有段落无序列表</div></pre></td></tr></table></figure>
<pre><code>*   A list item.

    With multiple paragraphs.

*   Bar
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">嵌套使用列表</div></pre></td></tr></table></figure>
<pre><code>*   Abacus
    * answer
*   Bubbles
    1.  bunk
    2.  bupkis
        * BELITTLER
    3. burper
*   Cunning
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line">引用</div></pre></td></tr></table></figure>
<blockquote>
<p>Email-style angle brackets 方括号被用于引用<br>are used for blockquotes.</p>
<blockquote>
<p>你也可以嵌套引用.</p>
</blockquote>
<h4 id="Headers-in-blockquotes-引用中嵌入标题"><a href="#Headers-in-blockquotes-引用中嵌入标题" class="headerlink" title="Headers in blockquotes 引用中嵌入标题"></a>Headers in blockquotes 引用中嵌入标题</h4><ul>
<li>You can quote a list. 引用中嵌入列表</li>
<li>Etc.<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">代码嵌入</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<p><code>&lt;code&gt;</code> spans are delimited<br>by backticks.</p>
<p>You can include literal backticks<br>like <code>`this` </code>.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">代码块</div><div class="line">Indent every line of a code block by at least 4 spaces or 1 tab.</div></pre></td></tr></table></figure></p>
<pre><code>This is a normal paragraph.

    This is a preformatted
    code block.
</code></pre><p>```</p>
<p>水平线<br>三个破折号或者星号</p>
<hr>
<hr>
<hr>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Markdown/">Markdown</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Android支持库"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/13/Android支持库/">Android支持库(转)</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/04/13/Android支持库/" class="article-date">
	  <time datetime="2017-04-12T23:42:30.000Z" itemprop="datePublished">2017-04-13</time>
	</a>

      
    <a class="article-category-link" href="/categories/Android/">Android</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>随着 Android 5.0 Lollipop 的发布，Android 又为我们提供了更多的支持包，但是我相信大部分开发者都同我之前一样不知道这些包里究竟有些什么东西，我们应该在什么时候使用它。现在，我们就来逐个看看每一个版本的 Support 包中所拥有的东西，让用到他的时候不再迷茫。</p>
<p>首先，你需要了解每一个 Support 包版本后缀 vX 所代表的含义。当然我相信来看博客的诸位都一定知道 Android 对于每一个版本都有一个版本号，例如2.1是7，4.0是14，5.0是21。而这里，v 之后的数字，就代表着他能够被使用的最低版本等级，之所以无法在更低版本进行使用的原因，是因为随着版本的升级，在新版本中有很多之前不支持的特性或者 API，因此如果你在老版本中使用了这些支持包，就可能会导致应用崩溃。</p>
<p>现在，我们从头开始逐个浏览目前所支持的 support 包:</p>
<h5 id="1-support-v4"><a href="#1-support-v4" class="headerlink" title="1. support-v4"></a>1. support-v4</h5><pre><code>support-v4包算是 Android 最低等级的支持包。所谓的 v4,代表着它最低支持 Android1.6(API Level4)，这个版本算得上是一个真正意义上比较成熟的 Android版本，更何况现在我们写应用的时候一般都只最低支持到 Android 2.x 系统，对于1.x 的系统基本已经已经完全抛弃了，因此你可已经他作为最基本的系统组件使用。

在 support-v4包中，它所拥有的类还是很多的，主要包含了对应用组件的支持，用户交互体验的一些工具类，一些数据网络方面的工具类，相面我们将详细来看看它里面具体的一些类。

1. 系统组件部分
Fragment:其实 Fragment 是直到 Android3.0才正式进入 Android 框架体系的，但是 Android 为了低版本的兼容，因此他帮我们在低版本也适配了 Fragment 框架
NotificationCompat:这是通知栏的一些适配，可以帮助你在低版本的通知栏显示更加丰富的信息
LocalBroadcastManager:这个是用于本地广播通知的，当你希望发送的通知只被本应用接收时，你就应该使用它

2. 用户界面交互部分
ViewPager，这个相信我不用怎么说了，他主要用于帮助我们进行界面间的滑动交互
PagerTitleStrip,PagerTabStrip 这两个算是 ViewPager 的帮助类吧，他们的作用是进行 Tab 栏的切换辅助显示
DrawerLayout，主要用于侧滑栏的实现
SlidingPaneLayout,这个类也是用于侧滑栏的实现，和 DrawerLayout 不同的是，DrawerLayout 侧滑栏出来的时候，默认是覆盖在当前页面上，而 SlidingPaneLayout 则是会将当前页面移走。

3. Accessbility访问的帮助类
ExploreByTouchHelper，帮助自定义 View 实现 Accessibility 的工具类
AccessbilityEventCompat, AccessbilityNodeInfoCompat, AccessbilityNodeProviderCompat, AccessbilityDelegateCompat，这几个都是用作 Accessibility 功能适配的类

4. 数据访问帮助类
Loader，主要用于异步加载数据
FileProvider，提供应用间的文件分享功能
</code></pre><h5 id="2-support-v7"><a href="#2-support-v7" class="headerlink" title="2. support-v7"></a>2. support-v7</h5><pre><code>1.Appcompat
这个包的主要作用是为了在低版本实现 Android 的 Holo 风格界面而引入的，与之类似的有一个开源项目叫做 SherlockActionbar

2.CardView
卡片布局是最近在 android5.0发布的时候才引入的新包，在我看来，他主要效果是让应用进行卡片花显示

3.GridLayout
网格布局能够帮助你将整个布局按照一格两格的格子形式进行排列

4.MediaRouter
这个布局主要是用来支持 GoogleCast 的，主要用于进行设备间的音频，视频交换显示

5.Palette
这个包也是最新出来的，他的作用是帮助 Android 实现他的 MaterialDesign，让你的 Actionbar 能够根据界面进行对应的颜色改变

7.RecyclerView
这个包同样也是刚出来的，他的作用是替换 ListView 和 GridView，但是可惜是没有实现 OnItemClick 这些接口，你需要自己处理它
</code></pre><h5 id="3-support-v8"><a href="#3-support-v8" class="headerlink" title="3. support-v8"></a>3. support-v8</h5><pre><code>support-v8中其实只有一格特性，就是用来渲染脚本
</code></pre><h5 id="4-support-v13"><a href="#4-support-v13" class="headerlink" title="4. support-v13"></a>4. support-v13</h5><pre><code>这个包的作用主要是为 Android3.2级以上的系统提供更多地 Framgnet 特性支持，使用它的原因在于，android-support-v4包中虽然也对 Fragment 做了支持，由于要兼容低版本，导致他是自行实现的 Fragment 效果，在高版本的 Fragment 的一些特性丢失了，而对于 v13以上的 sdk 版本，我们可以使用更加有效，特性更多的代码
</code></pre><h5 id="5-support-v17"><a href="#5-support-v17" class="headerlink" title="5. support-v17"></a>5. support-v17</h5><pre><code>这个包得主要作用是用于支持电视设备，并为电视设备提供了很多组件
例如下面的:
BrowseFragment， DetailFragment， PlaybasckOverlayFragment， SearchFragment
但是原谅我没有做过 Android TV 开发，我也不知道他们的用处是什么，如果真的想要查看，请去官网看看吧
</code></pre><p><a href="https://developer.android.com/topic/libraries/support-library/index.html" title="Android支持库" target="_blank" rel="external">https://developer.android.com/topic/libraries/support-library/index.html</a></p>
<p>转自<a href="http://www.2cto.com/kf/201411/350928.html" target="_blank" rel="external">http://www.2cto.com/kf/201411/350928.html</a></p>
<h2 id="附：API与Android版本对应表："><a href="#附：API与Android版本对应表：" class="headerlink" title="附：API与Android版本对应表："></a>附：API与Android版本对应表：</h2><pre><code>Code name            Version             API level
Nougat                7.1                 API level 25
Nougat                7.0                 API level 24
Marshmallow            6.0                 API level 23
Lollipop            5.1                 API level 22
Lollipop            5.0                 API level 21, NDK 10
KitKat                4.4 - 4.4.4         API level 19
Jelly Bean            4.3.x             API level 18
Jelly Bean            4.2.x             API level 17
Jelly Bean            4.1.x             API level 16
Ice Cream Sandwich    4.0.3 - 4.0.4     API level 15, NDK 8
Ice Cream Sandwich    4.0.1 - 4.0.2     API level 14, NDK 7
Honeycomb            3.2.x             API level 13
Honeycomb            3.1                 API level 12, NDK 6
Honeycomb            3.0                 API level 11
Gingerbread            2.3.3 - 2.3.7     API level 10
Gingerbread            2.3 - 2.3.2         API level 9, NDK 5
Froyo                2.2.x             API level 8, NDK 4
Eclair                2.1                 API level 7, NDK 3
Eclair                2.0.1             API level 6
Eclair                2.0                 API level 5
Donut                1.6                 API level 4, NDK 2
Cupcake                1.5                 API level 3, NDK 1
(no code name)        1.1                 API level 2
(no code name)        1.0              API level 1
</code></pre>
      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android-Support/">Android Support</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-APK_tool"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/12/APK_tool/">APK 反编译及签名工具</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/04/12/APK_tool/" class="article-date">
	  <time datetime="2017-04-12T04:22:33.000Z" itemprop="datePublished">2017-04-12</time>
	</a>

      
    <a class="article-category-link" href="/categories/Android/">Android</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="反编译-解包-再编译"><a href="#反编译-解包-再编译" class="headerlink" title="反编译/解包/再编译"></a>反编译/解包/再编译</h1><h3 id="1-Apktool——APK反编译及再打包工具"><a href="#1-Apktool——APK反编译及再打包工具" class="headerlink" title="1. Apktool——APK反编译及再打包工具"></a>1. Apktool——APK反编译及再打包工具</h3><p>通过反编译APK中XML文件，直接可以查看<br><a href="https://ibotpeaches.github.io/Apktool/" target="_blank" rel="external">https://ibotpeaches.github.io/Apktool/</a></p>
<p>下载安装Apktool （Windows/Linux/Mac）<br><a href="https://ibotpeaches.github.io/Apktool/install/" target="_blank" rel="external">https://ibotpeaches.github.io/Apktool/install/</a></p>
<p>Apktool 通常用法<br>反编译APK     <code>apktool d[ecode] test.apk</code><br>再打包成APK   <code>apktool b[uild] test</code></p>
<h3 id="2-dex2jar"><a href="#2-dex2jar" class="headerlink" title="2. dex2jar"></a>2. dex2jar</h3><p>将apk中的classes.dex转化成Jar文件<br><a href="https://github.com/pxb1988/dex2jar" target="_blank" rel="external">https://github.com/pxb1988/dex2jar</a></p>
<h3 id="3-JD-GUI"><a href="#3-JD-GUI" class="headerlink" title="3. JD-GUI"></a>3. JD-GUI</h3><p>反编译工具，可以直接查看Jar包的源代码<br><a href="https://code.google.com/archive/p/innlab/downloads" target="_blank" rel="external">https://code.google.com/archive/p/innlab/downloads</a><br><a href="https://pan.baidu.com/disk/home#list/vmode=list&amp;path=%2Fapps%2FAPK-Track%E5%B7%A5%E5%85%B7" target="_blank" rel="external">https://pan.baidu.com/disk/home#list/vmode=list&amp;path=%2Fapps%2FAPK-Track%E5%B7%A5%E5%85%B7</a></p>
<h1 id="签名"><a href="#签名" class="headerlink" title="签名"></a>签名</h1><h3 id="1-keytool"><a href="#1-keytool" class="headerlink" title="1. keytool"></a>1. keytool</h3><p>是个密钥和证书管理工具,可以用来生成证书.<br><code>keytool -genkey -keystore test.keystore  -alias test -keyalg RSA -validity 10000</code></p>
<blockquote>
<p>  参数解释:<br>    -genkey 产生证书文件<br>    -keystore 指定密钥库的.keystore文件中<br>    -keyalg 指定密钥的算法,这里指定为RSA(非对称密钥算法)<br>    -validity 为证书有效天数，这里我们写的是10000天<br>    -alias 产生别名</p>
</blockquote>
<h3 id="2-jarsigner"><a href="#2-jarsigner" class="headerlink" title="2. jarsigner"></a>2. jarsigner</h3><p>工具利用密钥仓库中的信息来产生或校验 Java 存档 (JAR) 文件的数字签名</p>
<p>可以使用jarsigner 来签名,例子如下:<br><code>jarsigner -verbose -keystore test.keystore -signedjar -signed.apk unsigned.apk &#39;test.keystore&#39;</code></p>
<blockquote>
<p>  参数说明:<br>    -verbose：指定生成详细输出<br>    -keystore：指定数字证书存储路径<br>    -signedjar：该选项的三个参数为 签名后的apk包 未签名的apk包 数字证书别名(注意顺序)</p>
</blockquote>
<h1 id="To-Do"><a href="#To-Do" class="headerlink" title="To Do"></a>To Do</h1><p>后续将qq记事本中《加密和签名（及反编译）》 整合到本文 …</p>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/APK反编译，APK签名/">APK反编译，APK签名</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-Android_update_img"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/12/Android_update_img/">Android系统升级、烧录、Recovery、OTA</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/04/12/Android_update_img/" class="article-date">
	  <time datetime="2017-04-12T04:22:33.000Z" itemprop="datePublished">2017-04-12</time>
	</a>

      
    <a class="article-category-link" href="/categories/Android/">Android</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Recovery"><a href="#Recovery" class="headerlink" title="Recovery:"></a>Recovery:</h3><p><a href="http://www.tuicool.com/articles/Q7ZBbu" target="_blank" rel="external">http://www.tuicool.com/articles/Q7ZBbu</a><br><a href="http://blog.csdn.net/fengying765/article/details/38301895" target="_blank" rel="external">http://blog.csdn.net/fengying765/article/details/38301895</a></p>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OTA/">OTA</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/recovery/">recovery</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/update/">update</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-InputSystem004_type_code"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/12/InputSystem004_type_code/">Input系统——TYPE CODE</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/04/12/InputSystem004_type_code/" class="article-date">
	  <time datetime="2017-04-12T04:22:33.000Z" itemprop="datePublished">2017-04-12</time>
	</a>

      
    <a class="article-category-link" href="/categories/Android/">Android</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Event-Type-amp-Code"><a href="#Event-Type-amp-Code" class="headerlink" title="Event Type&amp;Code"></a>Event Type&amp;Code</h1><pre><code>EV_SYN:  - 用于事件间的分割标志。事件可能按时间或空间进行分割，就像在多点触摸协议中的例子。
    SYN_REPORT:    - 当多个输入数据在同一时间发生变化时，SYN_REPORT用于把这些数据进行打包和包同步。
                例如，一次鼠标的移动可以上报   REL_X和REL_Y两个数值，然后发出一个SYN_REPORT。
                下一次鼠标移动可以再次发出REL_X和REL_Y两个数值，然后经跟这另一个SYN_REPORT。

    SYN_MT_REPORT: - 用于同步和分离触摸事件
    SYN_DROPPED:   - 用来指出evdev客户的事件队列的的缓冲区溢出。

EV_KEY:  - 用来描述键盘，按键或者类似键盘设备的状态变化。
    KEY_&lt;name&gt;:    - EV_KEY事件采取KEY_&lt;name&gt; 或BTN_&lt;name&gt;的形式，
                        比如，KEY_A代表键盘上的A键，当一个按键被按下时，一个带有按键编码和value为1的事件被发出。
                        当一个按键被释放时，一个value为0的事件被发出。有些硬件当按键重复时会发出事件，这些事件的value值为2。
                        通常，KEY_&lt;name&gt;用作键盘上的按键，而BTN_&lt;name&gt;则用于开关按钮事件。 
                   - 普通键盘按键     0x0~0x100     0x160~0x2ff
                   - 游戏柄的按键     0x100~0x110   0x120~0x140
                   - 鼠标按键         BTN_MOUSE-BTN_LEFT-0x110-左键；  BTN_RIGHT-0x111-右键；  BTN_MIDDLE-0x112-中键；
    BTN_&lt;name&gt;:    - see above

EV_REL:  - 用来描述相对坐标轴上数值的变化，例如：鼠标向左方移动了5个单位。
    REL_X 0x00      //X 轴
    REL_Y 0x01      //Y 轴
    REL_Z 0x02      //Z 轴
    REL_RX 0x03
    REL_RY 0x04
    REL_RZ 0x05
    REL_HWHEEL 0x06 //水平方向horizontal的滚轮
    REL_DIAL 0x07
    REL_WHEEL 0x08  //垂直方向vertical的滚轮
    REL_MISC 0x09
    REL_MAX 0x0f
    REL_CNT (REL_MAX+1)

EV_ABS:  - 用来描述相对坐标轴上数值的变化，例如：描述触摸屏上坐标的值。
    ABS_X 0x00
    ABS_Y 0x01
    ABS_Z 0x02
    ABS_RX 0x03
    ABS_RY 0x04
    ABS_RZ 0x05
    ABS_THROTTLE 0x06
    ABS_RUDDER 0x07
    ABS_WHEEL 0x08
    ABS_GAS 0x09
    ABS_BRAKE 0x0a
    ABS_DISTANCE 0x19 - 用来描述触摸工具离触摸表面的距离
    ABS_MT_&lt;name&gt; 用于描述多手指触摸输入设备。详情请参考内核文档：multi-touch-protocol.txt。

EV_MSC:  - 当不能匹配现有的类型时，使用该类型进行描述。
EV_SW:   - 用来描述具备两种状态的输入开关。
    SW_LID 0x00  用来指出笔记本电脑的屏幕是否合上

EV_LED:  - 用于设置或查询设备上的LED灯的开和关。
EV_SND:  - 用来给设备输出提示声音。
EV_REP:  - 用于可以自动重复的设备（autorepeating）。
EV_FF:   - 用来给输入设备发送强制回馈命令。（震动？）
    FF_RUMBLE 0x50
    FF_CONSTANT 0x52

EV_PWR:  - 特别用于电源开关的输入。.
EV_FF_STATUS:  - 用于接收设备的强制反馈状态。
</code></pre><h1 id="INPUT-DEVICE-ClASS-来区分"><a href="#INPUT-DEVICE-ClASS-来区分" class="headerlink" title="INPUT_DEVICE_ClASS 来区分"></a>INPUT_DEVICE_ClASS 来区分</h1><pre><code>INPUT_DEVICE_CLASS_CURSOR  
    有BTN_MOUSE按钮 且 REL_X及REL_Y 

INPUT_DEVICE_CLASS_TOUCH | INPUT_DEVICE_CLASS_TOUCH_MT 
    有BTN_TOUCH  ABS_MT_POSITION_X ABS_MT_POSITION_Y 且没有游戏键

INPUT_DEVICE_CLASS_JOYSTICK 


INPUT_DEVICE_CLASS_SWITCH
    任一个即可


INPUT_DEVICE_CLASS_VIBRATOR
    有FF_RUMBLE-0x50
</code></pre><h1 id="TOOL-TYPE"><a href="#TOOL-TYPE" class="headerlink" title="TOOL_TYPE"></a>TOOL_TYPE</h1><pre><code>AMOTION_EVENT_TOOL_TYPE_UNKNOWN 0
    类型未知，或者都无关联项，例如 trackball or other non-pointing device.
AMOTION_EVENT_TOOL_TYPE_FINGER  1
    The tool is a finger 触摸类工具
AMOTION_EVENT_TOOL_TYPE_STYLUS  2
    类似触针类工具，例如手写笔等
AMOTION_EVENT_TOOL_TYPE_MOUSE   3
    The tool is a mouse or trackpad.  鼠标或者触摸板
AMOTION_EVENT_TOOL_TYPE_ERASER  4
    The tool is an eraser or a stylus being used in an inverted posture. 擦除类工具，或者一类反向针式工具
</code></pre><h1 id="MotionEvent"><a href="#MotionEvent" class="headerlink" title="MotionEvent"></a>MotionEvent</h1><pre><code>用于报告运动事件，例如 mouse, pen, finger, trackball 
Motion events may hold either absolute or relative movements and other data, depending on the type of device.

ACTION_BUTTON_PRESS
ACTION_BUTTON_RELEASE
ACTION_CANCEL  // The current gesture has been aborted.
ACTION_SCROLL  // The motion event contains relative vertical and/or horizontal scroll offsets.
ACTION_UP      // 
AXIS_SCROLL    // Generic scroll axis of a motion event.
</code></pre><h1 id="AINPUT-SOURCE"><a href="#AINPUT-SOURCE" class="headerlink" title="AINPUT_SOURCE"></a>AINPUT_SOURCE</h1><pre><code>基本类型
AINPUT_SOURCE_CLASS_MASK        0x000000ff      //         
AINPUT_SOURCE_UNKNOWN           0x00000000      // 
AINPUT_SOURCE_CLASS_BUTTON      0x00000001      // 输入设备有按钮和键
AINPUT_SOURCE_CLASS_POINTER     0x00000002      // 与显示相关的指针式设备
AINPUT_SOURCE_CLASS_NAVIGATION  0x00000004      // 
AINPUT_SOURCE_CLASS_TRACKBALL   0x00000004      // 轨迹导航设备
AINPUT_SOURCE_CLASS_POSITION    0x00000008      // 绝对定位设备（与显示无关的定位）
AINPUT_SOURCE_CLASS_JOYSTICK    0x00000010      // 
AINPUT_SOURCE_CLASS_NONE        0x00000000      // joystick 操作杆，绝对运动

衍生类型
AINPUT_SOURCE_KEYBOARD          0x00000101      // 
AINPUT_SOURCE_DPAD              0x00000201      // 
AINPUT_SOURCE_GAMEPAD           0x00000401      // 
AINPUT_SOURCE_TOUCHSCREEN       0x00001002      // 
AINPUT_SOURCE_MOUSE             0x00002002      // 
AINPUT_SOURCE_STYLUS            0x00004002      //
AINPUT_SOURCE_BLUETOOTH_STYLUS  0x0000c002      // 蓝牙指针，蓝牙鼠标?   API 23
AINPUT_SOURCE_TRACKBALL         0x00010004      // 
AINPUT_SOURCE_MOUSE_RELATIVE    0x00020004      // Android O Developer Preview
AINPUT_SOURCE_TOUCHPAD          0x00100008      //
AINPUT_SOURCE_TOUCH_NAVIGATION  0x00200000      // 
AINPUT_SOURCE_ROTARY_ENCODER    0x00400000      // Android O Developer Preview  
AINPUT_SOURCE_JOYSTICK          0x01000010      // 
AINPUT_SOURCE_HDMI              0x02000001      // 
AINPUT_SOURCE_ANY               0xffffff00      //
</code></pre><h1 id="AINPUT-KEYBOARD-TYPE"><a href="#AINPUT-KEYBOARD-TYPE" class="headerlink" title="AINPUT_KEYBOARD_TYPE"></a>AINPUT_KEYBOARD_TYPE</h1><pre><code>AINPUT_KEYBOARD_TYPE_NONE 0                     // There is no keyboard
AINPUT_KEYBOARD_TYPE_NON_ALPHABETIC 1           // The keyboard supports a complement of alphabetic keys.
AINPUT_KEYBOARD_TYPE_ALPHABETIC 2               // The keyboard is not fully alphabetic
</code></pre><h1 id="Input-device-configuration-idc"><a href="#Input-device-configuration-idc" class="headerlink" title="Input device configuration (.idc)"></a>Input device configuration (.idc)</h1><p>  Input device configuration files (.idc files) contain device-specific configuration properties that affect the behavior of input devices.</p>
<p>  <strong>Location</strong><br>    /system/usr/idc/  or   /data/system/devices/idc/</p>
<p>  <strong>idc文件example如下</strong></p>
<pre><code># This is an example of an input device configuration file.
# It might be used to describe the characteristics of a built-in touch screen.

# This is an internal device, not an external peripheral attached to the USB
# or Bluetooth bus.
device.internal = 1

# The device should behave as a touch screen, which uses the same orientation
# as the built-in display.
touch.deviceType = touchScreen
touch.orientationAware = 1

# Additional calibration properties...
keyboard.layout = qwerty
keyboard.characterMap = qwerty
keyboard.orientationAware = 1
keyboard.builtIn = 1

cursor.mode = navigation
cursor.orientationAware = 1
</code></pre><p>  <strong>Common属性语法</strong></p>
<pre><code>device.internal // Specifies whether the input device is an internal built-in component 
                    as opposed to an externally attached (most likely removable) peripheral.
                    If the value is 0, the device is external.
                    If the value is 1, the device is internal.
                    If the value is not specified, the default value is 0 for all devices on the USB (BUS_USB) or Bluetooth (BUS_BLUETOOTH) bus, 1 otherwise.

                    This property determines default policy decisions regarding wake events.
</code></pre><h1 id="Key-Layout-Files-kl"><a href="#Key-Layout-Files-kl" class="headerlink" title="Key Layout Files (.kl)"></a>Key Layout Files (.kl)</h1><p>  详见 <a href="https://source.android.com/devices/input/key-layout-files" target="_blank" rel="external">https://source.android.com/devices/input/key-layout-files</a> </p>
<pre><code>Key layout files (.kl files) map Linux key codes and axis codes to Android key codes and axis codes and specify associated policy flags. Device-specific key layout files are:

Required for internal (built-in) input devices with keys, including special keys such as volume, power, and headset media keys.
Optional for other input devices but recommended for special-purpose keyboards and joysticks.
If no device-specific key layout file is available, the system chooses a default instead.
</code></pre><h3 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h3><p>  /system/usr/keylayout/ or /data/system/devices/keylayout/</p>
<h3 id="Generic-Key-Layout-File"><a href="#Generic-Key-Layout-File" class="headerlink" title="Generic Key Layout File"></a>Generic Key Layout File</h3><p>  The system provides a special built-in generic key layout file called Generic.kl. This key layout is intended to support a variety of standard external keyboards and joysticks. Do not modify the generic key layout!</p>
<h3 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h3><p>  A key layout file is a plain text file consisting of key or axis declarations and flags.</p>
<p>  <strong>Key Declarations</strong><br>    key         Linux key code number               Android key code name<br>    key usage   HID usage(Hex 32-bit integer)       Android key code name</p>
<p>  <strong>Axis Declarations</strong><br>    axis        Linux axis code number              Android axis code name<br>    Basic Axes<br>    Split Axes<br>    Inverted Axes<br>    Center Flat Position Option</p>
<p>  <strong>Comments</strong><br>    Comment lines begin with # and continue to the end of the line:<br>    <code># A comment!</code></p>
<p>  <strong>Examples</strong> </p>
<pre><code>-- Keyboard --
key 1     ESCAPE
key 2     1
key 3     2
key 4     3
key 5     4
key 6     5
key 7     6
key 8     7
key 9     8
key 10    9
key 11    0
key 12    MINUS
key 13    EQUALS
key 14    DEL

-- System Controls --
# This is an example of a key layout file for basic system controls,
# such as volume and power keys which are typically implemented as GPIO pins
# the device decodes into key presses.

key 114   VOLUME_DOWN
key 115   VOLUME_UP
key 116   POWER

-- Capacitive Buttons -- 
# This is an example of a key layout file for a touch device with capacitive buttons.
key 139    MENU           VIRTUAL
key 102    HOME           VIRTUAL
key 158    BACK           VIRTUAL
key 217    SEARCH         VIRTUAL

-- Headset Jack Media Controls --
# This is an example of a key layout file for headset mounted media controls.
# A typical headset jack interface might have special control wires or detect known
# resistive loads as corresponding to media functions or volume controls.
# This file assumes that the driver decodes these signals and reports media
# controls as key presses.
key 163   MEDIA_NEXT
key 165   MEDIA_PREVIOUS
key 226   HEADSETHOOK

-- Joystick --
# This is an example of a key layout file for a joystick.

# These are the buttons that the joystick supports, represented as keys.
key 304   BUTTON_A
key 305   BUTTON_B
key 307   BUTTON_X
key 308   BUTTON_Y
key 310   BUTTON_L1
key 311   BUTTON_R1
key 314   BUTTON_SELECT
key 315   BUTTON_START
key 316   BUTTON_MODE
key 317   BUTTON_THUMBL
key 318   BUTTON_THUMBR

# Left and right stick.
# The reported value for flat is 128 in a range of -32767 to 32768, which is absurd.
# This confuses applications that rely on the flat value because the joystick
# actually settles in a flat range of +/- 4096 or so. We override it here.
axis 0x00 X flat 4096
axis 0x01 Y flat 4096
axis 0x03 Z flat 4096
axis 0x04 RZ flat 4096

# Triggers.
axis 0x02 LTRIGGER
axis 0x05 RTRIGGER

# Hat.
axis 0x10 HAT_X
axis 0x11 HAT_Y
</code></pre><h3 id="Virtual-Soft-Keys"><a href="#Virtual-Soft-Keys" class="headerlink" title="Virtual Soft Keys"></a>Virtual Soft Keys</h3><p>  // to do</p>
<h3 id="Validation"><a href="#Validation" class="headerlink" title="Validation"></a>Validation</h3><p>  You should validate your key layout files using the Validate Keymaps tool.</p>
<h1 id="Key-Character-Map-Files-kcm"><a href="#Key-Character-Map-Files-kcm" class="headerlink" title="Key Character Map Files (.kcm)"></a>Key Character Map Files (.kcm)</h1><p>  Key character map files (.kcm files) are responsible for mapping combinations of Android key codes with modifiers to Unicode characters.</p>
<p>  <strong>Location</strong><br>    /system/usr/keychars/<br>    /data/system/devices/keychars/</p>
<p>  <strong>Generic Key Character Map File</strong><br>    Generic.kcm</p>
<p>  <strong>Virtual Key Character Map File</strong><br>    Virtual.kcm</p>
<p>  <strong>Syntax</strong><br>    Keyboard Type Declaration<br>    Key Declarations<br>    Comments</p>
<h1 id="Keyboard-Devices"><a href="#Keyboard-Devices" class="headerlink" title="Keyboard Devices"></a>Keyboard Devices</h1><h1 id="Touch-Devices"><a href="#Touch-Devices" class="headerlink" title="Touch Devices"></a>Touch Devices</h1><h1 id="附："><a href="#附：" class="headerlink" title="附："></a>附：</h1><p>HID号码即Hidden ID code 隐含码；<br>PID号码即Public ID code 公开码。</p>

      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/event/">event</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/input/">input</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/input系统/">input系统</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  
    <article id="post-InputSystem002_LinuxInputSubSystem"  class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" itemprop="name">
      <a class="article-title" href="/2017/04/12/InputSystem002_LinuxInputSubSystem/">Input系统——Linux 输入子系统</a>
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2017/04/12/InputSystem002_LinuxInputSubSystem/" class="article-date">
	  <time datetime="2017-04-12T04:22:33.000Z" itemprop="datePublished">2017-04-12</time>
	</a>

      
    <a class="article-category-link" href="/categories/Android/">Android</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>待整理完善。。。</p>
<h3 id="1-struct-input-dev"><a href="#1-struct-input-dev" class="headerlink" title="1. struct input_dev"></a>1. struct input_dev</h3><pre><code>struct input_dev {
    const char *name; //名字 
    const char *phys;
    const char *uniq;
    struct input_id id;

    unsigned long propbit[BITS_TO_LONGS(INPUT_PROP_CNT)];

    unsigned long evbit[BITS_TO_LONGS(EV_CNT)];    // 设备所支持的事件类型

    unsigned long keybit[BITS_TO_LONGS(KEY_CNT)];  // 按键类型 
    unsigned long relbit[BITS_TO_LONGS(REL_CNT)];  // 相对值类型
    unsigned long absbit[BITS_TO_LONGS(ABS_CNT)];  // 绝对值类型
    unsigned long mscbit[BITS_TO_LONGS(MSC_CNT)];  // 混合类型
    unsigned long ledbit[BITS_TO_LONGS(LED_CNT)];  // LED类型
    unsigned long sndbit[BITS_TO_LONGS(SND_CNT)];  // 声音类型
    unsigned long ffbit[BITS_TO_LONGS(FF_CNT)];    // 力反馈
    unsigned long swbit[BITS_TO_LONGS(SW_CNT)];    // 开关类型???

    unsigned int hint_events_per_packet;

    unsigned int keycodemax;
    unsigned int keycodesize;
    void *keycode;

    int (*setkeycode)(struct input_dev *dev,
              const struct input_keymap_entry *ke,
              unsigned int *old_keycode);
    int (*getkeycode)(struct input_dev *dev,
              struct input_keymap_entry *ke);

    struct ff_device *ff;

    unsigned int repeat_key;
    struct timer_list timer;

    int rep[REP_CNT];

    struct input_mt *mt;

    struct input_absinfo *absinfo;

    unsigned long key[BITS_TO_LONGS(KEY_CNT)];
    unsigned long led[BITS_TO_LONGS(LED_CNT)];
    unsigned long snd[BITS_TO_LONGS(SND_CNT)];
    unsigned long sw[BITS_TO_LONGS(SW_CNT)];

    int (*open)(struct input_dev *dev);
    void (*close)(struct input_dev *dev);
    int (*flush)(struct input_dev *dev, struct file *file);
    int (*event)(struct input_dev *dev, unsigned int type, unsigned int code, int value);

    struct input_handle __rcu *grab;

    spinlock_t event_lock;
    struct mutex mutex;

    unsigned int users;
    bool going_away;

    struct device dev;

    struct list_head    h_list;
    struct list_head    node;

    unsigned int num_vals;
    unsigned int max_vals;
    struct input_value *vals;

    bool devres_managed;
};
</code></pre><h3 id="2-注册-注销函数"><a href="#2-注册-注销函数" class="headerlink" title="2. 注册/注销函数"></a>2. 注册/注销函数</h3><pre><code>int input_register_device搜索(struct input_dev *dev)
void input_unregister_device(struct input_dev *dev)
</code></pre><h3 id="3-设备所支持的事件类型有"><a href="#3-设备所支持的事件类型有" class="headerlink" title="3. 设备所支持的事件类型有"></a>3. 设备所支持的事件类型有</h3><pre><code>EV_KEY 按键
EV_REL 相对坐标
EV_ABS绝对坐标
EV_MSC 其它
EV_LED LED
EV_SND 声音
EV_FF 力反馈
EV_SW 开关???
</code></pre><h3 id="4-操作函数"><a href="#4-操作函数" class="headerlink" title="4. 操作函数"></a>4. 操作函数</h3><pre><code>set_bit(EV_KEY, button_dev.evbit)   // 设置支持的事件
void input_report_key(struct input_dev *dev,unsigned int code, int value)   // 在中断过程中中，内核层使用input_report_key等函数向用户空间报告，然后应用程序读取状态。
void input_report_rel(struct input_dev *dev,unsigned int code, int value)   // ..
void input_report_abs(struct input_dev *dev,unsigned int code, int value)   // ..
input_sync()  // 用于事件同步，它告知事件的接收者：驱动已经发出了一个完整的报告。
</code></pre><h3 id="5-事件代码"><a href="#5-事件代码" class="headerlink" title="5. 事件代码"></a>5. 事件代码</h3><p>EV_KEY 事件代码</p>
<pre><code>代码值0~127为键盘上的按键代码，0x110~0x116为鼠标上按键代码，其中0x110(BTN_LEFT)为鼠标左键，0x111(BTN_RIGHT)为鼠标右键,0x112(BTN_ MIDDLE)为鼠标中键。其它代码含义请参看include/linux/input.h文件
</code></pre><p>EV_KEY 事件值</p>
<pre><code>按键按下时值为1,松开时值为0
</code></pre><h3 id="evdev"><a href="#evdev" class="headerlink" title="evdev"></a>evdev</h3>
      
    </div>
    <footer class="article-footer">
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/event/">event</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/input/">input</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/input系统/">input系统</a></li></ul>

    </footer>
  </div>
  
</article>

<!-- Table of Contents -->

  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
      </div>
      
        <div align="center" style="margin-top: 30px;"><hr class="hr" style="margin:0px; height:3px;"></div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2012 - 2017 进无止境&#39;s 博客 All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				<span id="busuanzi_container_site_uv"> 访客数 : <span id="busuanzi_value_site_uv"></span></span> |  
				<span id="busuanzi_container_site_pv"> 访问量 : <span id="busuanzi_value_site_pv"></span></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav> -->
    


  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



  <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>
<script src="/js/bootstrap.js"></script>


  <script src="/js/home.js"></script>








  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">设置</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              正文字号大小
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            您已调整页面字体大小
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              夜间护眼模式
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            夜间模式已经开启，再次单击按钮即可关闭 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;关 于&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            进无止境&#39;s 博客
          </div>
          <div class="panel-body">
            Copyright © 2017 Jim All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
      </div>
    </div>
  </div>
</div>
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  

	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>


</body>
</html>